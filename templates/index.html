{% extends "base.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1 class="display-5">Dashboard</h1>
        <p class="text-muted">Welcome to Inventory Management System</p>
    </div>
</div>

<!-- Statistics -->
<div class="row mb-4">
    <div class="col-md-4 mb-3">
        <div class="card text-center border-0 shadow-sm">
            <div class="card-body py-4">
                <i class="bi bi-box-seam display-6 text-primary mb-3"></i>
                <h3 class="text-primary">{{ stats.products }}</h3>
                <p class="text-muted mb-0">Products</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card text-center border-0 shadow-sm">
            <div class="card-body py-4">
                <i class="bi bi-geo-alt display-6 text-primary mb-3"></i>
                <h3 class="text-primary">{{ stats.locations }}</h3>
                <p class="text-muted mb-0">Locations</p>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3">
        <div class="card text-center border-0 shadow-sm">
            <div class="card-body py-4">
                <i class="bi bi-arrow-left-right display-6 text-primary mb-3"></i>
                <h3 class="text-primary">{{ stats.movements }}</h3>
                <p class="text-muted mb-0">Movements</p>
            </div>
        </div>
    </div>
</div>

<!-- Recent Movements -->
<div class="card border-0 shadow-sm">
    <div class="card-header bg-transparent border-bottom-0 py-3">
        <h5 class="mb-0 text-primary">
            <i class="bi bi-clock-history me-2"></i>Recent Movements
        </h5>
    </div>
    <div class="card-body">
        {% if recent_movements %}
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>From</th>
                        <th>To</th>
                        <th>Qty</th>
                    </tr>
                </thead>
                <tbody>
                    {% for move in recent_movements %}
                    <tr>
                        <td><strong>{{ move.product_name }}</strong></td>
                        <td><span class="badge bg-light text-dark">{{ move.from_location_name or '—' }}</span></td>
                        <td><span class="badge bg-light text-dark">{{ move.to_location_name or '—' }}</span></td>
                        <td><span class="badge bg-primary">{{ move.qty }}</span></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="text-center py-4">
            <i class="bi bi-inbox display-1 text-muted"></i>
            <p class="text-muted mt-3">No movements yet</p>
        </div>
        {% endif %}
    </div>
</div>

<!--Quick Actions -->
<div class="card border-0 shadow-sm mt-4">
    <div class="card-body text-center py-4">
        <h5 class="text-primary mb-4">Quick Actions</h5>
        <div class="row">
            <div class="col-md-3 mb-2">
                <a href="{{ url_for('add_product') }}" class="btn btn-primary w-100 py-2">
                    <i class="bi bi-plus-circle me-2"></i>Add Product
                </a>
            </div>
            <div class="col-md-3 mb-2">
                <a href="{{ url_for('add_location') }}" class="btn btn-primary w-100 py-2">
                    <i class="bi bi-plus-circle me-2"></i>Add Location
                </a>
            </div>
            <div class="col-md-3 mb-2">
                <a href="{{ url_for('add_movement') }}" class="btn btn-primary w-100 py-2">
                    <i class="bi bi-plus-circle me-2"></i>Add Movement
                </a>
            </div>
            <div class="col-md-3 mb-2">
                <a href="{{ url_for('balance_report') }}" class="btn btn-primary w-100 py-2">
                    <i class="bi bi-graph-up me-2"></i>View Report
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}